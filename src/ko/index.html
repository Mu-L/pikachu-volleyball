<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<title>피카츄 배구 - 슈퍼 AI 버전</title>
	<meta name="description" content="피카츄 배구 게임  - 슈퍼 AI 버전" />
	<meta name="author" content="DuckLL" />

	<meta name="mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="default" />
	<meta name="theme-color" content="#FFFFFF" />
	<meta name="apple-mobile-web-app-title" content="Pikachu Volleyball" />
	<link rel="apple-touch-icon" sizes="192x192" href="../resources/assets/images/IDI_PIKAICON-1_gap_filled_192.png" />
	<link rel="manifest" href="./manifest.json" />

	<link rel="icon" type="image/png" sizes="32x32" href="../resources/assets/images/IDI_PIKAICON-0.png" />
	<link rel="stylesheet" href="../resources/style.css" />
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGJ7GB94R9"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-ZGJ7GB94R9');
	</script>
</head>

<body>
	<div id="flex-container">
		<div id="menu-bar">
			<div class="btn-container left">
				<div class="relative-container">
					<button type="button" id="game-dropdown-btn" class="btn dropdown-btn">
						게임
					</button>
					<div id="game-dropdown" class="dropdown">
						<button type="button" id="pause-btn" class="btn">
							<span class="check">&check; </span>일시정지
						</button>
						<button type="button" id="restart-btn" class="btn">
							다시시작
						</button>
					</div>
				</div>
				<div class="relative-container">
					<button type="button" id="options-dropdown-btn" class="btn dropdown-btn">
						설정
					</button>
					<div id="options-dropdown" class="dropdown">
						<div class="relative-container">
							<button type="button" id="bgm-submenu-btn" class="btn submenu-btn">
								배경음악 &#9654;&#xfe0e;
							</button>
							<div id="bgm-submenu" class="submenu">
								<button type="button" id="bgm-on-btn" class="btn">
									<span class="check">&check; </span>켜기
								</button>
								<button type="button" id="bgm-off-btn" class="btn selected">
									<span class="check">&check; </span>끄기
								</button>
							</div>
						</div>
						<div class="relative-container">
							<button type="button" id="sfx-submenu-btn" class="btn submenu-btn">
								효과음 &#9654;&#xfe0e;
							</button>
							<div id="sfx-submenu" class="submenu">
								<button type="button" id="stereo-btn" class="btn selected">
									<span class="check">&check; </span>스테레오
								</button>
								<button type="button" id="mono-btn" class="btn">
									<span class="check">&check; </span>모노
								</button>
								<button type="button" id="sfx-off-btn" class="btn">
									<span class="check">&check; </span>끄기
								</button>
							</div>
						</div>
						<div class="relative-container">
							<button type="button" id="speed-submenu-btn" class="btn submenu-btn">
								속도 &#9654;&#xfe0e;
							</button>
							<div id="speed-submenu" class="submenu">
								<button type="button" id="slow-speed-btn" class="btn">
									<span class="check">&check; </span>느리게
								</button>
								<button type="button" id="medium-speed-btn" class="btn">
									<span class="check">&check; </span>보통
								</button>
								<button type="button" id="fast-speed-btn" class="btn selected">
									<span class="check">&check; </span>빠르게
								</button>
							</div>
						</div>
						<div class="relative-container">
							<button type="button" id="winning-score-submenu-btn" class="btn submenu-btn">
								승리점수 &#9654;&#xfe0e;
							</button>
							<div id="winning-score-submenu" class="submenu">
								<button type="button" id="winning-score-5-btn" class="btn">
									<span class="check">&check; </span>5점
								</button>
								<button type="button" id="winning-score-10-btn" class="btn">
									<span class="check">&check; </span>10점
								</button>
								<button type="button" id="winning-score-15-btn" class="btn selected">
									<span class="check">&check; </span>15점
								</button>
							</div>
						</div>
						<div class="relative-container">
							<button type="button" id="practice-mode-submenu-btn" class="btn submenu-btn">
								연습모드 &#9654;&#xfe0e;
							</button>
							<div id="practice-mode-submenu" class="submenu">
								<button type="button" id="practice-mode-on-btn" class="btn">
									<span class="check">&check; </span>켜기
								</button>
								<button type="button" id="practice-mode-off-btn" class="btn selected">
									<span class="check">&check; </span>끄기
								</button>
							</div>
						</div>
					</div>
				</div>
				<div class="relative-container">
					<button type="button" id="save-replay-btn" class="btn">
						리플레이 <span class="no-wrap">저장</span>
					</button>
				</div>
				<div class="color-scheme-toggle-switch-container">
					<input type="checkbox" id="dark-color-scheme-checkbox-1"
						class="toggle-switch dark-color-scheme-checkbox" />
					<label for="dark-color-scheme-checkbox-1"></label>
				</div>
				<div class="relative-container">
					<label>AI Level</label>
					<select id="ai-level">
						<option value="0">0</option>
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10" selected>10</option>
					</select>
				</div>
			</div>
			<div class="btn-container right">
				<button type="button" id="about-btn" class="btn glow">
					<span class="text-about hidden">설정/정보</span><span class="text-play">게임 시작</span>
				</button>
			</div>
		</div>
		<div class="if-embedded-in-other-website hidden">
			<div class="limit-width">
				타 사이트 상에서 피카츄 배구 웹 버전을 실행하고 있는 것 같습니다. 다음
				주소로 직접 방문하면 광고 없는 쾌적한 환경에서 플레이할 수 있습니다.
				<div class="original-address">
					피카츄 배구 웹 버전 원 주소:<br />
					<a href="https://gorisanson.github.io/pikachu-volleyball/ko/" target="_blank"
						rel="noopener">https://gorisanson.github.io/pikachu-volleyball/ko/</a>
				</div>
				<button type="button" class="btn-in-box">
					<span>닫기</span>
				</button>
			</div>
		</div>
		<div id="game-canvas-container">
			<div class="fade-in-box about" id="about-box">
				<div id="setting">
					<h1>기능</h1>
					<div id="capability">
						<div><input id="serve" type="checkbox"><label>서브</label></div>
						<div><input id="fancy" type="checkbox" checked="checked"><label>트릭샷</label></div>
						<div><input id="block" type="checkbox" checked="checked"><label>블로킹</label></div>
						<div><input id="diving" type="checkbox" checked="checked"><label>다이빙</label></div>
						<div><input id="anti_block" type="checkbox" checked="checked"><label>안티 블로킹</label></div>
						<div><input id="early_ball" type="checkbox"><label>조기 타격</label></div>
						<div><input id="jump" type="checkbox"><label>동기화 점프</label></div>
						<div>
							<label>방어 모드</label>
							<select id="defense">
								<option value="0">중앙 위치</option>
								<option value="1">중앙 미러링</option>
								<option value="2">미러링</option>
								<option value="3">예측</option>
								<option value="4" selected>전진 방어</option>
							</select>
						</div>
						<div>
							<label>딜레이</label>
							<input id="delay" type="number" inputmode="numeric" min="0" max="30" value="0">
						</div>
					</div>
					<h1 style="margin-bottom: 0;">서브</h1>
					<div style="width: 100%;">
						<div class="player" style="float: left;">
							<h3>플레이어1</h3>
							<div>
								<div class="serve">
									<div><b>1단계 서브</b><input id="player1-1-step-serve" type="checkbox"
											checked="checked"></div>
									<div><input id="player-1-skill-0-checkbox" type="checkbox" checked="checked">
										<label>브레이크 네트</label>
									</div>
									<div><input id="player-1-skill-1-checkbox" type="checkbox" checked="checked">
										<label>브레이크 네트(페이크, 플랫)</label>
									</div>
									<div><input id="player-1-skill-2-checkbox" type="checkbox" checked="checked">
										<label>헤드 썬더</label>
									</div>
									<div><input id="player-1-skill-3-checkbox" type="checkbox" checked="checked">
										<label>헤드 썬더(페이크, 플랫)</label>
									</div>
									<div><input id="player-1-skill-4-checkbox" type="checkbox" checked="checked">
										<label>네트 V 스매시</label>
									</div>
									<div><input id="player-1-skill-5-checkbox" type="checkbox" checked="checked">
										<label>네트 R 스매시</label>
									</div>
									<div><input id="player-1-skill-6-checkbox" type="checkbox" checked="checked">
										<label>네트 G 스매시</label>
									</div>
									<div><input id="player-1-skill-7-checkbox" type="checkbox" checked="checked">
										<label>네트 회피</label>
									</div>
									<hr style="width: 100%;">
									<div><b>꼬리 서브</b><input id="player1-tail-serve" type="checkbox" checked="checked">
									</div>
									<div><input id="player-1-skill-8-checkbox" type="checkbox" checked="checked">
										<label>꼬리 썬더</label>
									</div>
									<div><input id="player-1-skill-9-checkbox" type="checkbox" checked="checked">
										<label>꼬리 썬더(페이크, 플랫)</label>
									</div>
								</div>
							</div>
						</div>
						<div class="player" style="float: right;">
							<h3>플레이어2</h3>
							<div>
								<div class="serve">
									<div><b>1단계 서브</b><input id="player2-1-step-serve" type="checkbox"
											checked="checked"></div>
									<div><input id="player-2-skill-0-checkbox" type="checkbox" checked="checked">
										<label>브레이크 네트</label>
									</div>
									<div><input id="player-2-skill-1-checkbox" type="checkbox" checked="checked">
										<label>브레이크 네트(페이크, 플랫)</label>
									</div>
									<div><input id="player-2-skill-2-checkbox" type="checkbox" checked="checked">
										<label>헤드 썬더</label>
									</div>
									<div><input id="player-2-skill-3-checkbox" type="checkbox" checked="checked">
										<label>헤드 썬더(페이크, 플랫)</label>
									</div>
									<div><input id="player-2-skill-4-checkbox" type="checkbox" checked="checked">
										<label>네트 썬더</label>
									</div>
									<div><input id="player-2-skill-5-checkbox" type="checkbox" checked="checked">
										<label>네트 썬더(페이크, 플랫)</label>
									</div>
									<hr style="width: 100%;">
									<div><b>꼬리 서브</b><input id="player2-tail-serve" type="checkbox" checked="checked">
									</div>
									<div><input id="player-2-skill-6-checkbox" type="checkbox" checked="checked">
										<label>꼬리 썬더</label>
									</div>
									<div><input id="player-2-skill-7-checkbox" type="checkbox" checked="checked">
										<label>꼬리 썬더(페이크, 플랫)</label>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
				<hr style="width: 100%;">
				<div id="about-box-head">
					<h1>피카츄 배구 - 슈퍼 AI 버전</h1>
					<p class="languages">
						<a href="../zh/" target="_self">Chinese(中文)</a>
						| <a href="../en/" target="_self">English</a>
						| &check; Korean(한국어)
					</p>
					<p class="original-by">
						원조 피카츄 배구 (対戦ぴかちゅ～　ﾋﾞｰﾁﾊﾞﾚｰ編) 게임은 다음 분들이
						만들었습니다.<br />
						1997 (C)
						<span class="no-wrap">SACHI SOFT / SAWAYAKAN Programmers</span><br />
						1997 (C) <span class="no-wrap">Satoshi Takenouchi</span>
					</p>
					<hr style="width: 100%;">
					<p class="reverse-engineered-by">
						<a href="https://gorisanson.github.io/pikachu-volleyball/ko/" target="_blank">피카츄 배구
						웹 버전</a>(만든 사람: <a href="https://gorisanson.github.io/" target="_blank">이규태</a>)에 기반합니다.
					</p>
					<hr style="width: 100%;">
					<p class="reverse-engineered-by">
						슈퍼 AI 버전을 만든 사람: <a href="https://blog.duckll.tw/" target="_blank">DuckLL</a>
						<br>조정 가능한 옵션으로 AI 강화
						<br>리플레이 저장, <a href="https://gorisanson.github.io/pikachu-volleyball-p2p-online/ko/replay/"
							target="_blank">재생
							플레이어</a>로 리플레이 시청
						<br>1P는 모든 키 사용 가능 (온라인 대전 버전과 동일)
						<br>2P는 AI 모드로 설정되어, AI 간의 치열한 경기를 감상할 수 있음
					</p>
					<p class="source-code-on">
						<a href="https://github.com/duckll/pikachu-volleyball" target="_blank" rel="noopener">GitHub</a>
						<br>
						<a href="./update-history/" target="_self">업데이트 내역</a>
						<br>
						<a href="/version.html" target="_self">이전 버전</a>

					</p>
					<hr style="width: 100%;">
					<h2>디자인 개념</h2>
					<p>
						제 AI가 가장 강력하다고 주장하지는 않지만, 확실히 가장 눈부신 존재입니다! 번개처럼 빠른 판단력, 공격적인 플레이 스타일, 다재다능한 랜덤성이 매 경기를 더욱 흥미롭게
						만듭니다. 이 AI는 기계 학습을
						사용하지 않고, 전적으로 제가 게임을 이해한 바를 기반으로 모든 전략을 설계했습니다. 여전히 개선의 여지가 많아 계속 개발할 예정입니다. 어떤 제안이든 GitHub에서
						자유롭게 공유해주세요!
					</p>

					<h2>능력 소개</h2>
					<div style="text-align: left;">
						<p><b>서브: </b>인간 플레이어에게는 효과적이지만 AI에게는 효과가 적습니다. AI 상대에게 바로 역공당하는 것을 방지하기 위해 기본적으로 비활성화되어 있습니다.
							양쪽 서브는 약간 다르며 아래 옵션을
							통해 세부 조정이 가능합니다.</p>
						<p><b>트릭샷: </b>연속적인 타격 기술을 의미합니다. 예를 들어, 번개 스파이크는 네트를 이용해 공을 튕긴 후 다시 스파이크를 날리는 방식으로 생성됩니다. 위아래
							스파이크, 소프트볼 연속 타격, 더블
							바운스 등도 트릭샷에 포함됩니다.</p>
						<p><b>블로킹: </b>넷 앞 영역에서 상대의 공격을 차단할지 여부를 결정하는 연습용 옵션입니다.</p>
						<p><b>다이빙: </b>활성화 시 방어 범위가 넓어집니다.</p>
						<p><b>안티 블로킹: </b>활성화하면 AI가 상대의 넷 앞 블로킹을 피하기 위해 공격 경로를 조정합니다.</p>
						<p><b>조기 타격: </b>점프 상승 단계에서 공격을 수행합니다. 동시에 안티 블로킹 옵션을 비활성화하는 것이 권장됩니다. 서프라이즈 공격 반응 속도를 훈련하는 데
							유용하지만, AI 대전에서는 방어 능력이
							감소하여 점수를 잃을 수 있습니다.</p>
						<p><b>동기화 점프: </b>상대가 블로킹을 조기에 시도할 때 AI가 공격 경로를 다양화하도록 훈련하는 연습용 옵션입니다.</p>
						<p><b>딜레이: </b>인간의 판단 지연을 시뮬레이션하며, 방어 이동과 공격 조직의 타이밍에 영향을 미칩니다. 4는 숙련자의 반응 시간을 가장 잘 모방한다고 생각됩니다.
							그러나 인간은 보통 멍하게 있지
							않습니다. 방어 모드가 예측형인 경우, 딜레이를 7로 설정하면 예측 방어의 매력을 느낄 수 있습니다.</p>
					</div>
					<h3>방어 모드</h3>
					<p>
						방어 모드는 상대가 공격하기 전 AI의 위치를 정의합니다. 상대가 공을 칠 때, AI는 공의 예상 착지 지점으로 이동합니다. 난이도는 트릭샷 옵션이 활성화된 상황을 기준으로
						합니다. 트릭샷 옵션이 비활성화된
						경우, 예측 모드는 미러 모드보다 효과적입니다.
					</p>
					<div style="text-align: left;">
						<p><b>중앙 위치: </b>난이도 1, 방어 범위의 중앙에 위치합니다.</p>
						<p><b>중앙 미러링: </b>난이도 2, 상대의 움직임을 따라가지만 중앙 지역을 벗어나지 않습니다.</p>
						<p><b>미러링: </b>난이도 4, 상대의 움직임을 완전히 따라갑니다.</p>
						<p><b>예측: </b>난이도 3, 상대 공격의 최단 경로 착지 지점을 예측합니다.</p>
						<p><b>전진 방어: </b>난이도 5, 공을 막을 수 있는 상황에서 최대한 넷에 가까이 다가가 블로킹을 돕습니다.</p>
					</div>
				</div>
				<div class="margin-top">
					<button type="button" id="close-about-btn" class="btn-in-box glow">
						<span class="text-close hidden">닫기</span><span class="text-play">게임 시작</span>
					</button>
				</div>
			</div>
			<div class="fade-in-box notice hidden" id="notice-box-1">
				<p>
					승리점수를
					<span id="winning-score-in-notice-box-1"></span>점으로 바꿀 수
					없습니다. 이미 이 점수가 됐거나 넘어버렸습니다.
				</p>
				<button type="button" id="notice-ok-btn-1" class="btn-in-box">
					알겠어요
				</button>
			</div>
			<div class="fade-in-box notice hidden" id="notice-box-2">
				<p>
					연습모드에서 승리점수를 바꾸는 건 의미가 없습니다.<br />
					연습모드를 끄려면
					<span class="no_wrap">"설정 &rarr; 연습모드 &rarr; 끄기"</span>를
					눌러주세요.
				</p>
				<button type="button" id="notice-ok-btn-2" class="btn-in-box">
					알겠어요
				</button>
			</div>
			<div class="fade-in-box loading hidden" id="loading-box">
				<div>
					<p>게임 스프라이트/사운드 로드 중...</p>
					<div id="progress-bar-border">
						<div id="progress-bar" style="width: 0%"></div>
					</div>
				</div>
			</div>
			<div class="fade-in-box update hidden" id="update-notification-message-box">
				새 버전이 나왔습니다. 지금 업데이트할까요?
				<div>
					<button type="button" class="update" id="update-now">
						지금 업데이트 (게임 상태가 초기화됩니다)
					</button>
					<button type="button" class="update" id="later">
						나중에 (브라우저 다시 켤 때 자동 업데이트)
					</button>
				</div>
			</div>
		</div>
	</div>
	<script type="module">
		/*
		 * Register service worker with some configuration for service worker update notice.
		 * Major parts of the code below are copied from: https://developers.google.com/web/tools/workbox/guides/advanced-recipes
		 */
		import { Workbox } from 'https://storage.googleapis.com/workbox-cdn/releases/5.0.0/workbox-window.prod.mjs';

		function createUpdateUIPrompt(callback) {
			const notificationBox = document.getElementById(
				'update-notification-message-box'
			);
			const elementList = document.getElementsByClassName('fade-in-box');
			const updateNowButton = document.getElementById('update-now');
			const laterButton = document.getElementById('later');

			updateNowButton.addEventListener('click', function () {
				notificationBox.classList.add('hidden');
				callback.onAccept();
			});
			laterButton.addEventListener('click', function () {
				notificationBox.classList.add('hidden');
			});

			for (const element of elementList) {
				element.classList.add('hidden');
			}
			notificationBox.classList.remove('hidden');
		}

		if ('serviceWorker' in navigator) {
			const wb = new Workbox('../sw.js');
			// Add an event listener to detect when the registered
			// service worker has installed but is waiting to activate.
			wb.addEventListener('waiting', (event) => {
				const prompt = createUpdateUIPrompt({
					onAccept: async () => {
						// Assuming the user accepted the update, set up a listener
						// that will reload the page as soon as the previously waiting
						// service worker has taken control.
						wb.addEventListener('controlling', (event) => {
							window.location.reload();
						});
						// Send a message telling the service worker to skip waiting.
						// This will trigger the `controlling` event handler above.
						wb.messageSW({ type: 'SKIP_WAITING' });
					},
				});
			});

			wb.register();
		}
	</script>
</body>

</html>